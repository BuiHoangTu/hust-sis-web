<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Chỉnh sửa thông tin</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/edit.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" rel="stylesheet">

<body>
    <div class="headerPane">
        <div class="container">
            <a href="http://ctt-daotao.hust.edu.vn/">
                <img  class="header-img" src="images/logo-cttdt.png" alt="" style="height:100%" />
            </a>
        </div>
    </div>
    <div class="center">
        <h2>Chỉnh sửa thông tin sinh viên</h2>
    </div>

    <div class="row">
        <div class="col-md-3">
            <div class="center normalText">
                <img class="avatar"  src="images/avatar.png" />
                <span><strong>MSSV:</strong>20205207</span>
            </div>
        </div>
        <div class="col-md-4">

            <span>
                <strong>Họ và tên&emsp;: </strong>
                <input type="text" name="name" id="nameInput"><br><br>
                <strong>Năm vào trường&emsp;:</strong>
                <select id="yearInput" name="yearlist" form="yearform">
                    <script>

                        for (let i = 2023; i >= 1956; i--) {
                            document.getElementById('yearInput').innerHTML += `<option value="${i}">${i}</option>`;
                        }
                    </script>
                </select>
                <br><br>
                <strong>Bậc đào tạo&emsp;:</strong>
                <input type="text" name="level" id="levelInput"><br /><br>
                <strong>Chương trình&emsp;: </strong>
                <input type="text" name="program" id="programInput"><br /><br>
                <br /><strong>Khoa/Viện quản lý&emsp;: </strong>
                <input type="text" name="faculty" id="facultyInput"><br /><br />
                <strong>Tình trạng học tập&emsp;: </strong>
                <input type="text" name="status" id="statusInput"><br /><br />
            </span>
        </div>
        <div class="col-md-4">
            <span>
                <strong>Giới tính&emsp;: </strong>
                <select id="genderInput" name="gender">
                    <option value="Nam">Nam</option>
                    <option value="Nữ">Nữ</option>
                    <option value="Khác">Khác</option>
                </select>
                <br /><br>
                <strong>Lớp&emsp;: </strong>
                <input type="text" name="class" id="classInput">
                <br /><br>
                <strong>Khóa học&emsp;: </strong>
                <select id="courseInput" name="courselist" form="courseform">
                    <script>
                        for (let i = 68; i >= 0; i--) {
                            document.getElementById('courseInput').innerHTML += `<option value="${i}">${i}</option>`;
                        }
                    </script>
                </select>
                <br /><br>
                <strong>Email&emsp;:</strong>
                <input type="text" name="email" id="emailInput"><br />
            </span>
        </div>
    </div>
    <div class="wrap-button">
        <div class="button">
            <button type="button" class="btn btn-outline-dark" style="width: 150px;" onclick="submitBtn()">Cập nhật</button>
            <button type="button" class="btn btn-outline-danger"
                onclick="window.location.href='index.html'" style="width: 150px;">Hủy</button>
        </div>
    </div>


</body>
<script>
    function submitBtn() {
        // Lấy các giá trị từ các trường input và select
        var name = document.getElementById('nameInput').value;
        var year = document.getElementById('yearInput').value;
        var level = document.getElementById('levelInput').value;
        var program = document.getElementById('programInput').value;
        var faculty = document.getElementById('facultyInput').value;
        var status = document.getElementById('statusInput').value;
        var gender = document.getElementById('genderInput').value;
        var class_1 = document.getElementById('classInput').value;
        var course = document.getElementById('courseInput').value;
        var email = document.getElementById('emailInput').value;
        // Tạo một đối tượng chứa thông tin
        var studentInfo = {
            "name": name,
            "year": year,
            "level": level,
            "program": program,
            "faculty": faculty,
            "status": status,
            "gender": gender,
            "class": class_1,
            "course": course,
            "email": email,
        };

        localStorage.setItem('studentInfo', JSON.stringify(studentInfo));
        window.location.href = "index.html";
    }

    document.addEventListener('DOMContentLoaded', function () {
        loadStudentInfo();
    });

    function loadStudentInfo() {
        var studentInfoJSON = localStorage.getItem("studentInfo");
        if (studentInfoJSON) {
            // Chuyển đổi thành đối tượng JavaScript
            var studentInfo = JSON.parse(studentInfoJSON);
            document.getElementById('nameInput').value = studentInfo.name;
            document.getElementById('yearInput').value = parseInt(studentInfo.year);
            document.getElementById('levelInput').value = studentInfo.level;
            document.getElementById('programInput').value = studentInfo.program;
            document.getElementById('facultyInput').value = studentInfo.faculty;
            document.getElementById('statusInput').value = studentInfo.status;
            document.getElementById('genderInput').value = studentInfo.gender;
            document.getElementById('classInput').value = studentInfo.class;
            document.getElementById('courseInput').value = parseInt(studentInfo.course);
            document.getElementById('emailInput').value = studentInfo.email;

        }
    }

</script>

</script>

</html>