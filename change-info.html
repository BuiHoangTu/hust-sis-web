<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Chỉnh sửa thông tin</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="styles/edit.css"> -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" rel="stylesheet">

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>
</head>

<body>
    <div class="headerPane">
        <div class="container">
            <a href="http://ctt-daotao.hust.edu.vn/">
                <img src="Content/Images/logo-cttdt.png" alt="" style="height: 100px;" />
            </a>
        </div>
    </div>
    <div class="center">
        <h2>Chỉnh sửa thông tin sinh viên</h2>
    </div>

    <div class="row">
        <div class="col-md-3">
            <div class="center normalText">
                <img class="avatar" src="avata.png" />
                <span><strong>MSSV:</strong>20200547</span>
            </div>
        </div>
        <div class="col-md-4">

            <span>
                <strong>Họ và tên&emsp;: </strong>
                <input type="text" name="name" id="ho-va-ten"><br><br>
                <strong>Năm vào trường&emsp;:</strong>
                <select id="nam-vao-truong" name="yearlist" form="yearform">
                    <script>

                        for (let i = 2023; i >= 1956; i--) {
                            document.getElementById('nam-vao-truong').innerHTML += `<option value="${i}">${i}</option>`;
                        }
                    </script>
                </select>
                <br><br>
                <strong>Bậc đào tạo&emsp;:</strong>
                <input type="text" name="level" id="bac-dao-tao"><br /><br>
                <strong>Chương trình&emsp;: </strong>
                <input type="text" name="program" id="chuong-trinh"><br /><br>
                <br /><strong>Khoa/Viện quản lý&emsp;: </strong>
                <input type="text" name="faculty" id="khoa-quan-ly"><br /><br />
                <strong>Tình trạng học tập&emsp;: </strong>
                <input type="text" name="status" id="tinh-trang-hoc-tap"><br /><br />
            </span>
        </div>
        <div class="col-md-4">
            <span>
                <strong>Giới tính&emsp;: </strong>
                <select id="gioi-tinh" name="gender">
                    <option value="Nam">Nam</option>
                    <option value="Nữ">Nữ</option>
                    <option value="Khác">Khác</option>
                </select>
                <br /><br>
                <strong>Lớp&emsp;: </strong>
                <input type="text" name="class" id="lop">
                <br /><br>
                <strong>Khóa học&emsp;: </strong>
                <select id="khoa-hoc" name="courselist" form="courseform">
                    <script>
                        for (let i = 68; i >= 0; i--) {
                            document.getElementById('khoa-hoc').innerHTML += `<option value="${i}">${i}</option>`;
                        }
                    </script>
                </select>
                <br /><br>
                <strong>Email&emsp;:</strong>
                <input type="text" name="email" id="email"><br />
            </span>
        </div>
    </div>
    <div class="wrap-button">
        <div class="button">
            <button type="button" class="btn btn-outline-dark" style="width: 150px;" onclick="onSave()">Cập
                nhật</button>
            <button type="button" class="btn btn-outline-danger" onclick="window.location.href='index.html'"
                style="width: 150px;">Hủy</button>
        </div>
    </div>


</body>
<script>
    let keys = ['ho-va-ten', 'nam-vao-truong', 'bac-dao-tao', 'chuong-trinh', 'khoa-quan-ly', 'tinh-trang-hoc-tap', 'gioi-tinh', 'lop', 'khoa-hoc', 'email'];
    
    function onSave() {

        let studentInfo = {}

        for (let index in keys) {
            let key = keys[index]
            studentInfo[key] = document.getElementById(key).value;
        }

        localStorage.setItem('studentInfo', JSON.stringify(studentInfo));
        window.location.href = "index.html";
    }

    document.addEventListener('DOMContentLoaded', () => {
        loadStudentInfo();
    });

    function loadStudentInfo() {
        let studentInfoJSON = localStorage.getItem("studentInfo");
        let studentInfoObject = JSON.parse(studentInfoJSON);
        for (let index in keys) {
            let key = keys[index]
            document.getElementById(key).value = studentInfoObject[key];
        } 
    }


</script>


</html>